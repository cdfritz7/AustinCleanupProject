{"ast":null,"code":"var _jsxFileName = \"/home/fritz/Projects/austincleanup/ReactFrontend/austincleanup/src/ViewEventComponent.js\";\nimport React, { Component } from 'react';\nimport { Container, Row, Col, Card, Button } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\n\nclass ViewEventComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isSignedUp: false\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.componentDidMount = this.componentDidMount.bind(this);\n  }\n  /*sends post request to sign user up for event if they are logged in,\n  or tells them to log in if they are not */\n\n\n  handleSubmit() {\n    var user_id = sessionStorage.getItem('userId');\n    const response = fetch('http://localhost:8080/austinCleanupAPI/addUserEvent', {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        'userId': user_id,\n        'eventId': this.props.event.id.toString(),\n        'isOrganizer': \"false\"\n      })\n    });\n  }\n\n  componentDidMount() {\n    fetch(\"http://localhost:8080/austinCleanupAPI/isUserSignedUpForEvent?userId=\".concat(this.props.userId, \"&eventId=\").concat(this.props.eventId)).then(function (response) {\n      if (response.ok) {\n        return response.json();\n      } else {\n        throw new Error('Error in ViewEventComponent.js componentDidMount, Network response not okay');\n      }\n    }).then(json => {\n      console.log(json);\n      this.setState({\n        isSignedUp: json\n      });\n    });\n  }\n\n  render() {\n    console.log(this.state.isSignedUp);\n\n    if (this.props.isLoggedIn == \"True\") {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, this.props.event.name), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, this.props.event.latitude), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, this.props.event.longitude), React.createElement(Button, {\n        onClick: () => this.handleSubmit(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, \"Sign Up!\"));\n    } else {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, this.props.event.name), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, this.props.event.latitude), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, this.props.event.longitude), React.createElement(Button, {\n        variant: \"secondary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/Profile\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, \"Sign In to Sign Up\")));\n    }\n  }\n\n}\n\nexport default ViewEventComponent;","map":{"version":3,"sources":["/home/fritz/Projects/austincleanup/ReactFrontend/austincleanup/src/ViewEventComponent.js"],"names":["React","Component","Container","Row","Col","Card","Button","Link","ViewEventComponent","constructor","props","state","isSignedUp","handleSubmit","bind","componentDidMount","user_id","sessionStorage","getItem","response","fetch","method","headers","body","JSON","stringify","event","id","toString","userId","eventId","then","ok","json","Error","console","log","setState","render","isLoggedIn","name","latitude","longitude"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {Container,\n        Row,\n        Col,\n        Card,\n        Button} from 'react-bootstrap';\nimport {Link} from 'react-router-dom';\nclass ViewEventComponent extends Component{\n\n  constructor(props){\n    super(props);\n\n    this.state = {\n      isSignedUp : false\n    }\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.componentDidMount = this.componentDidMount.bind(this);\n  }\n\n  /*sends post request to sign user up for event if they are logged in,\n  or tells them to log in if they are not */\n  handleSubmit(){\n    var user_id = sessionStorage.getItem('userId');\n\n    const response = fetch('http://localhost:8080/austinCleanupAPI/addUserEvent', {\n        method: 'POST',\n        headers: {'Accept': 'application/json', 'Content-Type':'application/json'},\n        body: JSON.stringify({\n          'userId': user_id,\n          'eventId': this.props.event.id.toString(),\n          'isOrganizer': \"false\"\n        })\n    });\n  }\n\n  componentDidMount(){\n    fetch(`http://localhost:8080/austinCleanupAPI/isUserSignedUpForEvent?userId=${this.props.userId}&eventId=${this.props.eventId}`)\n    .then(function(response){\n      if(response.ok){\n        return response.json();\n      }else{\n        throw new Error('Error in ViewEventComponent.js componentDidMount, Network response not okay')\n      }\n    }).then(json => {\n      console.log(json);\n      this.setState({isSignedUp:json})\n    });\n  }\n\n  render(){\n\n    console.log(this.state.isSignedUp);\n    if(this.props.isLoggedIn == \"True\"){\n      return (\n        <div>\n          <h1>{this.props.event.name}</h1>\n          <h3>{this.props.event.latitude}</h3>\n          <h3>{this.props.event.longitude}</h3>\n          <Button onClick={()=>this.handleSubmit()}>\n            Sign Up!\n          </Button>\n        </div>\n      )\n    }else{\n      return (\n        <div>\n          <h1>{this.props.event.name}</h1>\n          <h3>{this.props.event.latitude}</h3>\n          <h3>{this.props.event.longitude}</h3>\n          <Button variant=\"secondary\">\n            <Link to=\"/Profile\">Sign In to Sign Up</Link>\n          </Button>\n        </div>\n      )\n    }\n\n  }\n}\n\nexport default ViewEventComponent;\n"]},"metadata":{},"sourceType":"module"}