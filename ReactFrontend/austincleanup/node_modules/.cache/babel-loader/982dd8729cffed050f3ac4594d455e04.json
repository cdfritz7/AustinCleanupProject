{"ast":null,"code":"var _jsxFileName = \"/home/fritz/Projects/austincleanup/ReactFrontend/austincleanup/src/MapBoxMapComponent.js\";\nimport React, { Component } from 'react';\nimport mapboxgl from 'mapbox-gl'; //https://blog.mapbox.com/mapbox-gl-js-react-764da6cc074a\n\nmapboxgl.accessToken = 'pk.eyJ1IjoiY2Rmcml0ejciLCJhIjoiY2sydzBmenM3MGF1djNrcWR3YzRmaGQ0aCJ9.y0TZwO3PN1sYjakT02t1fQ';\n\nclass MapBoxMapComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      lng: props.lng,\n      lat: props.lat,\n      zoom: 10\n    };\n  }\n\n  componentDidMount() {\n    const _this$state = this.state,\n          lng = _this$state.lng,\n          lat = _this$state.lat,\n          zoom = _this$state.zoom;\n    const map = new mapboxgl.Map({\n      container: this.mapContainer,\n      style: 'mapbox://styles/mapbox/streets-v9',\n      center: [lng, lat],\n      zoom\n    });\n    map.on('move', () => {\n      const _map$getCenter = map.getCenter(),\n            lng = _map$getCenter.lng,\n            lat = _map$getCenter.lat;\n\n      this.setState({\n        lng: lng.toFixed(4),\n        lat: lat.toFixed(4),\n        zoom: map.getZoom().toFixed(2)\n      });\n      console.log(this.props.onMove);\n\n      if (this.props.onMove !== undefined) {\n        this.props.onMove(lat, lng);\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    this.map.remove();\n  }\n\n  render() {\n    const _this$state2 = this.state,\n          lng = _this$state2.lng,\n          lat = _this$state2.lat,\n          zoom = _this$state2.zoom;\n    const style = {\n      position: 'absolute',\n      top: 0,\n      bottom: 0,\n      width: '100%'\n    };\n    return React.createElement(\"div\", {\n      style: style,\n      ref: el => this.mapContainer = el,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    });\n  }\n\n}\n\nMapBoxMapComponent.defaultProps = {\n  lng: 4,\n  lat: 34,\n  zoom: 10,\n  onMove: undefined\n};\nexport default MapBoxMapComponent;","map":{"version":3,"sources":["/home/fritz/Projects/austincleanup/ReactFrontend/austincleanup/src/MapBoxMapComponent.js"],"names":["React","Component","mapboxgl","accessToken","MapBoxMapComponent","constructor","props","state","lng","lat","zoom","componentDidMount","map","Map","container","mapContainer","style","center","on","getCenter","setState","toFixed","getZoom","console","log","onMove","undefined","componentWillUnmount","remove","render","position","top","bottom","width","el","defaultProps"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,QAAP,MAAqB,WAArB,C,CAEA;;AAEAA,QAAQ,CAACC,WAAT,GAAuB,4FAAvB;;AAEA,MAAMC,kBAAN,SAAiCH,SAAjC,CAA2C;AASzCI,EAAAA,WAAW,CAACC,KAAD,EAAO;AAChB,UAAMA,KAAN;AAEA,SAAKC,KAAL,GAAa;AACXC,MAAAA,GAAG,EAAEF,KAAK,CAACE,GADA;AAEXC,MAAAA,GAAG,EAAEH,KAAK,CAACG,GAFA;AAGXC,MAAAA,IAAI,EAAE;AAHK,KAAb;AAMD;;AAEDC,EAAAA,iBAAiB,GAAG;AAAA,wBACO,KAAKJ,KADZ;AAAA,UACXC,GADW,eACXA,GADW;AAAA,UACNC,GADM,eACNA,GADM;AAAA,UACDC,IADC,eACDA,IADC;AAGlB,UAAME,GAAG,GAAG,IAAIV,QAAQ,CAACW,GAAb,CAAiB;AAC3BC,MAAAA,SAAS,EAAE,KAAKC,YADW;AAE3BC,MAAAA,KAAK,EAAE,mCAFoB;AAG3BC,MAAAA,MAAM,EAAE,CAACT,GAAD,EAAMC,GAAN,CAHmB;AAI3BC,MAAAA;AAJ2B,KAAjB,CAAZ;AAOAE,IAAAA,GAAG,CAACM,EAAJ,CAAO,MAAP,EAAe,MAAK;AAAA,6BACCN,GAAG,CAACO,SAAJ,EADD;AAAA,YACXX,GADW,kBACXA,GADW;AAAA,YACNC,GADM,kBACNA,GADM;;AAGlB,WAAKW,QAAL,CAAc;AACZZ,QAAAA,GAAG,EAAEA,GAAG,CAACa,OAAJ,CAAY,CAAZ,CADO;AAEZZ,QAAAA,GAAG,EAAEA,GAAG,CAACY,OAAJ,CAAY,CAAZ,CAFO;AAGZX,QAAAA,IAAI,EAAEE,GAAG,CAACU,OAAJ,GAAcD,OAAd,CAAsB,CAAtB;AAHM,OAAd;AAMAE,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKlB,KAAL,CAAWmB,MAAvB;;AACA,UAAG,KAAKnB,KAAL,CAAWmB,MAAX,KAAsBC,SAAzB,EAAmC;AACjC,aAAKpB,KAAL,CAAWmB,MAAX,CAAkBhB,GAAlB,EAAuBD,GAAvB;AACD;AAEF,KAdD;AAeD;;AAEDmB,EAAAA,oBAAoB,GAAE;AACpB,SAAKf,GAAL,CAASgB,MAAT;AACD;;AAEDC,EAAAA,MAAM,GAAG;AAAA,yBAEkB,KAAKtB,KAFvB;AAAA,UAEAC,GAFA,gBAEAA,GAFA;AAAA,UAEKC,GAFL,gBAEKA,GAFL;AAAA,UAEUC,IAFV,gBAEUA,IAFV;AAIP,UAAMM,KAAK,GAAG;AACZc,MAAAA,QAAQ,EAAE,UADE;AAEZC,MAAAA,GAAG,EAAE,CAFO;AAGZC,MAAAA,MAAM,EAAE,CAHI;AAIZC,MAAAA,KAAK,EAAE;AAJK,KAAd;AAOA,WAAO;AAAK,MAAA,KAAK,EAAEjB,KAAZ;AAAmB,MAAA,GAAG,EAAEkB,EAAE,IAAI,KAAKnB,YAAL,GAAoBmB,EAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD;;AA/DwC;;AAArC9B,kB,CAEG+B,Y,GAAe;AACpB3B,EAAAA,GAAG,EAAE,CADe;AAEpBC,EAAAA,GAAG,EAAE,EAFe;AAGpBC,EAAAA,IAAI,EAAE,EAHc;AAIpBe,EAAAA,MAAM,EAAEC;AAJY,C;AAgExB,eAAetB,kBAAf","sourcesContent":["import React, {Component} from 'react';\nimport mapboxgl from 'mapbox-gl';\n\n//https://blog.mapbox.com/mapbox-gl-js-react-764da6cc074a\n\nmapboxgl.accessToken = 'pk.eyJ1IjoiY2Rmcml0ejciLCJhIjoiY2sydzBmenM3MGF1djNrcWR3YzRmaGQ0aCJ9.y0TZwO3PN1sYjakT02t1fQ';\n\nclass MapBoxMapComponent extends Component {\n\n  static defaultProps = {\n    lng: 4,\n    lat: 34,\n    zoom: 10,\n    onMove: undefined\n  }\n\n  constructor(props){\n    super(props);\n\n    this.state = {\n      lng: props.lng,\n      lat: props.lat,\n      zoom: 10\n    }\n\n  }\n\n  componentDidMount() {\n    const {lng, lat, zoom} = this.state;\n\n    const map = new mapboxgl.Map({\n      container: this.mapContainer,\n      style: 'mapbox://styles/mapbox/streets-v9',\n      center: [lng, lat],\n      zoom\n    });\n\n    map.on('move', ()=> {\n      const {lng, lat} = map.getCenter();\n\n      this.setState({\n        lng: lng.toFixed(4),\n        lat: lat.toFixed(4),\n        zoom: map.getZoom().toFixed(2)\n      });\n\n      console.log(this.props.onMove);\n      if(this.props.onMove !== undefined){\n        this.props.onMove(lat, lng);\n      }\n\n    });\n  }\n\n  componentWillUnmount(){\n    this.map.remove();\n  }\n\n  render() {\n\n    const {lng, lat, zoom} = this.state;\n\n    const style = {\n      position: 'absolute',\n      top: 0,\n      bottom: 0,\n      width: '100%'\n    };\n\n    return <div style={style} ref={el => this.mapContainer = el} />;\n  }\n}\n\nexport default MapBoxMapComponent;\n"]},"metadata":{},"sourceType":"module"}